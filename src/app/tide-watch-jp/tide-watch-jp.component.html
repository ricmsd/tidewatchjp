<div class="header">
    <div class="sidebar-button">
        <p-button
            icon="pi pi-bars"
            severity="secondary"
            [text]="true"
            (onClick)="visibleSidebar = true"
        />
    </div>
    <div class="station-calendar">
        <p-dropdown
            [options]="stations"
            [(ngModel)]="selectedStation"
            optionLabel="name"
            (onChange)="onChange($event)"
            [checkmark]="false"
            dropdownIcon="pi pi-map-marker"
        />
        <p-calendar
            [inline]="false"
            [touchUI]="true"
            [showIcon]="true"
            selectionMode="range"
            iconDisplay="input"
            [showButtonBar]="false"
            [(ngModel)]="calendarDate"
            (onSelect)="onSelectDate($event)"
            dateFormat="yy/mm/dd"
            [readonlyInput]="true"
        />
    </div>
</div>
<div class="content">
    <div
        class="chart"
        echarts
        #chart
        (chartInit)="onChartInit($event)"
        [options]="echartOptions"
        [initOpts]="echartInitOptions"
    ></div>
    <div
        class="source"
    >
        <span>The tidal data from the <a href="https://www.jma.go.jp/jma/index.html">JMA</a>.</span>
    </div>
</div>
<div class="footer">
</div>

<p-sidebar [(visible)]="visibleSidebar">
    <h3>Preference</h3>
    <div class="preference-item">
        <span>sunrise/sunset</span>
        <p-inputSwitch
            [(ngModel)]="visibleSunriseSunset"
            (onChange)="onChangePreference()"
        />
    </div>
    <div class="preference-item">
        <span>high tide</span>
        <p-inputSwitch
            [(ngModel)]="visibleHighTideMark"
            (onChange)="onChangePreference()"
        />
    </div>
    <div class="preference-item">
        <span>low tide</span>
        <p-inputSwitch
            [(ngModel)]="visibleLowTideMark"
            (onChange)="onChangePreference()"
        />
    </div>
</p-sidebar>
